{% comment %}
  Somavedic Gift Landing Page Section
  A comprehensive landing page showcasing gift bundles and benefits
{% endcomment %}

{% assign gift_threshold_cents = section.settings.gift_threshold_cents | default: 400000 %}
{% assign gift_value_cents = section.settings.gift_value_cents | default: 210000 %}
{% assign gift_value_label = section.settings.gift_value_label | default: 'Bis zu' %}
{% assign gift_threshold_money = gift_threshold_cents | money_without_trailing_zeros %}
{% assign gift_value_money = gift_value_cents | money_without_trailing_zeros %}

<section class="somavedic-gift-landing" data-section-id="{{ section.id }}">
  <!-- Hero Section -->
  <div class="hero-section">
    <div
      class="hero-background"
      style="background-image: url('{{ section.settings.hero_background_image | img_url: '1920x1080' }}');"
    ></div>
    <div class="hero-container">
      <div class="hero-content">
        <div class="hero-text">
          <p class="hero-subtitle">{{ section.settings.hero_subtitle | default: 'Gestalten Sie Ihr Refugium' }}</p>
          <h1 class="hero-title">{{ section.settings.hero_title | default: 'Somavedic als Geschenk' }}</h1>
          <p class="hero-description">
            {% if section.settings.hero_description != blank %}
              {{ section.settings.hero_description }}
            {% else %}
              Gönnen Sie sich heute zusätzliche Harmonie. Geben Sie {{ gift_threshold_money }} oder mehr für
              Somavedic-Geräte aus und wählen Sie ein weiteres Gerät als unser Geschenk für Sie, Ihre Familie oder
              Freunde – im Wert von {{ gift_value_label }}
              {{ gift_value_money }}!
            {% endif %}
          </p>
          <a href="{{ section.settings.hero_cta_link | default: '/collections/all' }}" class="hero-cta-btn">
            {{- section.settings.hero_cta_text | default: 'Jetzt kaufen' -}}
          </a>
        </div>
        <div class="hero-image">
          <div class="image-placeholder">
            {% if section.settings.hero_product_image %}
              <img
                src="{{ section.settings.hero_product_image | img_url: '467x600' }}"
                alt="{{ section.settings.hero_product_image.alt }}"
              >
            {% else %}
              <span>Bildplatzhalter</span>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- How It Works Section -->
  <div class="how-it-works-section">
    {% assign how_it_works_video_raw = section.settings.how_it_works_video_url | strip %}
    {% assign has_how_it_works_video = false %}
    {% assign is_youtube_video = false %}
    {% assign youtube_id = '' %}
    {% assign how_it_works_video_embed_url = '' %}

    {% if how_it_works_video_raw != blank %}
      {% assign has_how_it_works_video = true %}
      {% assign video_url_lower = how_it_works_video_raw | downcase %}

      {% if video_url_lower contains 'youtu.be/' %}
        {% assign id_part = how_it_works_video_raw | split: 'youtu.be/' | last %}
        {% assign youtube_id = id_part | split: '?' | first | split: '&' | first %}
      {% elsif video_url_lower contains 'youtube.com/watch' %}
        {% assign youtube_id = how_it_works_video_raw | split: 'v=' | last | split: '&' | first | split: '#' | first %}
      {% elsif video_url_lower contains 'youtube.com/embed/' %}
        {% assign id_part = how_it_works_video_raw | split: 'embed/' | last %}
        {% assign youtube_id = id_part | split: '?' | first | split: '&' | first %}
      {% elsif video_url_lower contains 'youtube.com/shorts/' %}
        {% assign id_part = how_it_works_video_raw | split: 'shorts/' | last %}
        {% assign youtube_id = id_part | split: '?' | first | split: '&' | first %}
      {% endif %}

      {% assign youtube_id = youtube_id | strip %}
      {% if youtube_id != '' %}
        {% assign is_youtube_video = true %}
        {% assign how_it_works_video_embed_url = 'https://www.youtube.com/embed/'
          | append: youtube_id
          | append: '?autoplay=1&mute=1&loop=1&playlist='
          | append: youtube_id
          | append: '&controls=0&modestbranding=1&playsinline=1&enablejsapi=1'
        %}
      {% endif %}
    {% endif %}
    <div class="container">
      <h2 class="section-title">{{ section.settings.how_it_works_title | default: 'So funktioniert es' }}</h2>
      <div class="how-it-works-layout">
        <div class="how-it-works-steps">
          <div class="steps-list">
            {% for block in section.blocks %}
              {% if block.type == 'step' %}
                <div class="step-card" {{ block.shopify_attributes }}>
                  <span class="step-number" aria-hidden="true">{{ forloop.index }}</span>
                  <div class="step-icon" aria-hidden="true">
                    <div class="icon-background">
                      {% if block.settings.icon_svg != blank %}
                        {{ block.settings.icon_svg }}
                      {% else %}
                        {% case forloop.index %}
                          {% when 1 %}
                            <svg
                              width="32"
                              height="32"
                              viewBox="0 0 32 32"
                              fill="none"
                            >
                              <path
                                d="M8.33 16.67C8.33 12.25 11.91 8.67 16.33 8.67C20.75 8.67 24.33 12.25 24.33 16.67C24.33 21.09 20.75 24.67 16.33 24.67C11.91 24.67 8.33 21.09 8.33 16.67Z"
                                stroke="#022669"
                                stroke-width="2" />
                              <path
                                d="M16.33 12.67V20.67M12.33 16.67H20.33"
                                stroke="#022669"
                                stroke-width="2" />
                            </svg>
                          {% when 2 %}
                            <svg
                              width="32"
                              height="32"
                              viewBox="0 0 32 32"
                              fill="none"
                            >
                              <path
                                d="M6.67 16C6.67 10.48 11.15 6 16.67 6C22.19 6 26.67 10.48 26.67 16C26.67 21.52 22.19 26 16.67 26C11.15 26 6.67 21.52 6.67 16Z"
                                stroke="#022669"
                                stroke-width="2" />
                              <path
                                d="M16.67 10.67V21.33M10.67 16H22.67"
                                stroke="#022669"
                                stroke-width="2" />
                            </svg>
                          {% else %}
                            <svg
                              width="32"
                              height="32"
                              viewBox="0 0 32 32"
                              fill="none"
                            >
                              <path
                                d="M16 28C22.6274 28 28 22.6274 28 16C28 9.37258 22.6274 4 16 4C9.37258 4 4 9.37258 4 16C4 22.6274 9.37258 28 16 28Z"
                                stroke="#022669"
                                stroke-width="2" />
                              <path
                                d="M16 8V24M8 16H24"
                                stroke="#022669"
                                stroke-width="2" />
                            </svg>
                        {% endcase %}
                      {% endif %}
                    </div>
                  </div>
                  <div class="step-content">
                    {% assign step_description = block.settings.description %}
                    {% if step_description == blank %}
                      {% if forloop.first %}
                        {% assign step_description = 'Fuegen Sie Somavedic-Geraete zu Ihrem Warenkorb hinzu, bis Sie {{threshold}} oder mehr erreichen.' %}
                      {% elsif forloop.index == 2 %}
                        {% assign step_description = 'Bevor Sie Ihre Bestellung abschliessen, waehlen Sie das Somavedic-Geraet aus, das Sie als Geschenk im Wert von {{gift_value}} erhalten.' %}
                      {% else %}
                        {% assign step_description = 'Freuen Sie sich auf eine volle Portion harmonisierender Schaetze.' %}
                      {% endif %}
                    {% endif %}
                    {% assign step_description = step_description
                      | replace: '{{threshold}}', gift_threshold_money
                      | replace: '{{gift_value}}', gift_value_money
                    %}
                    <h3 class="step-title">{{ block.settings.title }}</h3>
                    <p class="step-description">{{ step_description }}</p>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
        <div class="how-it-works-media">
          <div
            class="how-it-works-video-wrapper{% if has_how_it_works_video %} has-video{% endif %}{% if is_youtube_video %} is-youtube{% endif %}"
            data-how-it-works-video
          >
            {% if has_how_it_works_video %}
              {% if is_youtube_video %}
                <iframe
                  class="how-it-works-video"
                  title="{{ section.settings.how_it_works_title | default: 'So funktioniert es' | escape }} Video"
                  src="{{ how_it_works_video_embed_url }}"
                  frameborder="0"
                  allow="autoplay; fullscreen;"
                  allowfullscreen
                  loading="lazy"
                  referrerpolicy="strict-origin-when-cross-origin"
                ></iframe>
              {% else %}
                <video
                  class="how-it-works-video"
                  muted
                  playsinline
                  loop
                  autoplay
                  preload="none"
                  {% if section.settings.how_it_works_video_poster %}
                    poster="{{ section.settings.how_it_works_video_poster | img_url: '960x540' }}"
                  {% endif %}
                  src="{{ how_it_works_video_raw }}"
                ></video>
              {% endif %}
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bundle Products Section -->
  <div id="bundles-section" class="bundles-section">
    <div class="container">
      <h2 class="section-title">{{ section.settings.bundles_title | default: 'Ihr Weg zur Harmonie' }}</h2>
      <p class="section-subtitle">
        {% if section.settings.bundles_subtitle != blank %}
          {{ section.settings.bundles_subtitle }}
        {% else %}
          Perfekt aufeinander abgestimmte Kombinationen, die darauf ausgelegt sind, die Ausgabenschwelle von
          {{ gift_threshold_money }} zu erreichen und dabei eine ganzheitliche Loesung fuer Ihr Zuhause zu schaffen.
        {% endif %}
      </p>

      <div class="bundles-grid">
        {% for block in section.blocks %}
          {% if block.type == 'bundle' %}
            <div
              class="bundle-card"
              data-bundle-id="{{ block.id }}"
              {{ block.shopify_attributes }}
            >
              <div class="bundle-image">
                <img
                  src="{{ block.settings.bundle_image | img_url: '896x512' }}"
                  alt="{{ block.settings.bundle_image.alt }}"
                  width="{{ block.settings.bundle_image.width }}"
                  height="{{ block.settings.bundle_image.height }}"
                  loading="lazy"
                >
              </div>
              {% liquid
                assign bundle_total_cents = 0
                assign has_variant_for_total = false
                for i in (1..5)
                  assign product_obj_key = 'product_obj_' | append: i
                  assign product_qty_key = 'product_qty_' | append: i
                  assign product_obj = block.settings[product_obj_key]
                  if product_obj != blank
                    assign variant = product_obj.selected_or_first_available_variant
                    if variant
                      assign quantity = block.settings[product_qty_key] | default: 1
                      assign quantity = quantity | plus: 0
                      assign line_total = variant.price | times: quantity
                      assign bundle_total_cents = bundle_total_cents | plus: line_total
                      assign has_variant_for_total = true
                    endif
                  endif
                endfor
              %}
              {% if has_variant_for_total %}
                {% assign bundle_total_amount = bundle_total_cents | plus: 0 %}
                {% assign bundle_total_money = bundle_total_amount | money_without_trailing_zeros %}
              {% endif %}
              <div class="bundle-content">
                <div class="bundle-header">
                  <h3 class="bundle-title">{{ block.settings.title }}</h3>
                  <span class="gift-badge">+ GESCHENK gratis!</span>
                </div>
                <p class="bundle-description">{{ block.settings.description }}</p>

                <div class="products-list">
                  <p class="products-label">Enthaltene Produkte:</p>
                  <ul class="products-items">
                    {% for i in (1..5) %}
                      {% assign product_key = 'product_' | append: i %}
                      {% assign product_obj_key = 'product_obj_' | append: i %}
                      {% assign product_qty_key = 'product_qty_' | append: i %}
                      {% if block.settings[product_key] != blank %}
                        <li>
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                            width="16"
                            height="16"
                            color="#821f82"
                            fill="none"
                          >
                            <circle opacity="0.4" cx="12" cy="12" r="4" fill="#821f82"></circle>
                            <circle cx="12" cy="12" r="9" stroke="#821f82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></circle>
                            <circle cx="12" cy="12" r="4" stroke="#821f82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></circle>
                          </svg>
                          <span class="product-name">{{ block.settings[product_key] }}</span>
                          {% if block.settings[product_obj_key] != blank %}
                            <input
                              type="hidden"
                              class="product-variant-id"
                              value="{{ block.settings[product_obj_key].selected_or_first_available_variant.id }}"
                            >
                            <input
                              type="hidden"
                              class="product-quantity"
                              value="{{ block.settings[product_qty_key] | default: 1 }}"
                            >
                          {% endif %}
                        </li>
                      {% endif %}
                    {% endfor %}
                  </ul>
                </div>

                <div class="bundle-footer">
                  <div class="pricing">
                    <div class="total-price">
                      <span class="price-label">Gesamtpreis</span>
                      <span class="price-value">
                        {% if has_variant_for_total %}
                          {{ bundle_total_money }}
                        {% elsif block.settings.total_price != blank %}
                          {{ block.settings.total_price }}
                        {% else %}
                          —
                        {% endif %}
                      </span>
                    </div>
                    <div class="gift-value">
                      <span class="gift-label">Geschenkwert</span>
                      <span class="gift-value-text">
                        {{- block.settings.gift_value | default: gift_value_label }}
                        {{ gift_value_money -}}
                      </span>
                    </div>
                  </div>
                  <button
                    class="bundle-cta-btn"
                    data-bundle-id="{{ block.id }}"
                    type="button"
                    onclick="addBundleToCart('{{ block.id }}')"
                  >
                    Paket hinzufügen und Geschenk auswählen
                  </button>
                </div>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
      <div class="bundles-note-container">
        <p class="bundles-note">
          Alle Produktpakete berechtigen Sie zu einem kostenlosen Geschenk. Stellen Sie Ihren Warenkorb ganz nach Ihren
          Wünschen zusammen – kombinieren Sie Ihre Lieblings-Somavedic-Geräte, um den Schwellenwert für ein kostenloses
          Somavedic zu erreichen. Wählen Sie ein beliebiges Somavedic-Gerät im Wert von {{ gift_value_label }}
          {{ gift_value_money }} als Ihr Geschenk aus!
        </p>

        <a href="{{ section.settings.final_cta_link | default: '/collections/all' }}" class="final-cta-btn">
          {{- section.settings.final_cta_text | default: 'Jetzt kaufen' -}}
        </a>
      </div>
    </div>
  </div>

  <!-- Benefits Section -->
  <div class="benefits-section">
    <div class="container">
      <h2 class="section-title">{{ section.settings.benefits_title | default: 'Was Sie erwarten können' }}</h2>
      <p class="section-subtitle">
        {{
          section.settings.benefits_subtitle
          | default: 'Wählen Sie das Modell, das am besten zu Ihrem Raum und Ihrer Seele passt.'
        }}
      </p>

      <div class="benefits-grid">
        {% for block in section.blocks %}
          {% if block.type == 'benefit' %}
            <div class="benefit-card" {{ block.shopify_attributes }}>
              <div class="benefit-icon">
                <div class="icon-background">
                  {% if block.settings.icon_svg != blank %}
                    {{ block.settings.icon_svg }}
                  {% else %}
                    {% case block.settings.icon_type %}
                      {% when 'harmony' %}
                        <svg
                          width="28"
                          height="28"
                          viewBox="0 0 28 28"
                          fill="none"
                        >
                          <path
                            d="M14 26C20.6274 26 26 20.6274 26 14C26 7.37258 20.6274 2 14 2C7.37258 2 2 7.37258 2 14C2 20.6274 7.37258 26 14 26Z"
                            stroke="#022669"
                            stroke-width="2" />
                          <path
                            d="M14 6V22M6 14H22"
                            stroke="#022669"
                            stroke-width="2" />
                        </svg>
                      {% when 'regeneration' %}
                        <svg
                          width="28"
                          height="28"
                          viewBox="0 0 28 28"
                          fill="none"
                        >
                          <path
                            d="M14 24C19.5228 24 24 19.5228 24 14C24 8.47715 19.5228 4 14 4C8.47715 4 4 8.47715 4 14C4 19.5228 8.47715 24 14 24Z"
                            stroke="#022669"
                            stroke-width="2" />
                          <path
                            d="M14 8V20M8 14H20"
                            stroke="#022669"
                            stroke-width="2" />
                        </svg>
                      {% when 'wellbeing' %}
                        <svg
                          width="28"
                          height="28"
                          viewBox="0 0 28 28"
                          fill="none"
                        >
                          <path
                            d="M14 25C20.0751 25 25 20.0751 25 14C25 7.92487 20.0751 3 14 3C7.92487 3 3 7.92487 3 14C3 20.0751 7.92487 25 14 25Z"
                            stroke="#022669"
                            stroke-width="2" />
                          <path
                            d="M14 7V21M7 14H21"
                            stroke="#022669"
                            stroke-width="2" />
                        </svg>
                    {% endcase %}
                  {% endif %}
                </div>
              </div>
              <h3 class="benefit-title">{{ block.settings.title }}</h3>
              <p class="benefit-description">{{ block.settings.description }}</p>
            </div>
          {% endif %}
        {% endfor %}
      </div>

      <p class="benefits-note">
        Jedes Geschenk harmonisiert Ihre Umgebung und reduziert die Auswirkungen elektromagnetischer Strahlung (EMF).
      </p>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="faq-section">
    <div class="container">
      <h2 class="section-title">{{ section.settings.faq_title | default: 'Haeufig gestellte Fragen' }}</h2>

      <div class="faq-list">
        {% for block in section.blocks %}
          {% if block.type == 'faq' %}
            <div class="faq-item" {{ block.shopify_attributes }}>
              <button class="faq-question" type="button">
                <span>{{ block.settings.question }}</span>
                <svg
                  class="faq-icon"
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                >
                  <path
                    d="M4 6L8 10L12 6"
                    stroke="#022669"
                    stroke-width="1.5" />
                </svg>
              </button>
              <div class="faq-answer">
                <p>{{ block.settings.answer }}</p>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Final CTA Section -->
  <div class="final-cta-section">
    <div
      class="cta-background"
      style="background-image: url('{{ section.settings.final_cta_background | img_url: '1920x1088' }}');"
    ></div>
    <div class="cta-overlay"></div>
    <div class="container">
      <h2 class="section-title">{{ section.settings.final_cta_title | default: 'Warum jetzt' }}</h2>
      <div class="cta-content">
        {{ section.settings.final_cta_content }}
      </div>
      <a href="{{ section.settings.final_cta_link | default: '/collections/all' }}" class="final-cta-btn">
        {{- section.settings.final_cta_text | default: 'Jetzt kaufen' -}}
      </a>
    </div>
  </div>
</section>

<style>
  /* Global Styles */
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: 1.25em;
    text-transform: none;
    letter-spacing: 0;
  }

  /* Global Font */
  .somavedic-gift-landing {
    font-family: 'Inter', sans-serif;
  }

  /* Hero Section */
  .hero-section {
    position: relative;
    min-height: 840px;
    display: flex;
    align-items: center;
    overflow: hidden;
    margin-top: -56px;
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-size: cover;
    background-position: 100% 60%;
    background-repeat: no-repeat;
    opacity: 0.25;
  }

  .hero-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 64px 0;
    position: relative;
    z-index: 2;
  }

  .hero-content {
    display: flex;
    align-items: center;
    gap: 48px;
    max-width: 1200px;
    justify-content: space-between;
  }

  .hero-text {
    flex: 1;
  }

  .hero-subtitle {
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 24px;
    line-height: 32px;
    color: #821e82;
    margin-bottom: 8px;
  }

  .hero-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 500;
    font-size: 56px;
    line-height: 56px;
    color: #022669;
    margin: 0 0 16px;
    letter-spacing: -1.5px;
  }

  .hero-description {
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 20px;
    line-height: 32px;
    color: #022669;
    margin: 0 0 24px;
  }

  .hero-cta-btn {
    display: inline-block;
    background: linear-gradient(to right, #022669, #832083);
    color: white;
    padding: 13px 46px;
    border-radius: 4px;
    text-decoration: none;
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 16px;
    line-height: 24px;
    text-transform: uppercase;
    letter-spacing: -0.4px;
    transition: all 0.3s ease;
  }

  .hero-cta-btn:hover {
    color: white !important;
    box-shadow: 0 4px 6px #01216940;
  }

  .hero-image {
    flex: 1;
  }

  .image-placeholder {
    display: flex;
    align-items: center;
    justify-content: right;
  }

  .image-placeholder img {
    max-width: 100%;
    height: auto;
    border-radius: 16px;
  }

  /* Section Styles */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 16px;
  }

  .section-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 500;
    font-size: 36px;
    line-height: 40px;
    color: #022669;
    text-align: center;
    margin: 0 0 16px;
  }

  .section-subtitle {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 20px;
    line-height: 28px;
    color: #022669;
    text-align: center;
    margin: 0 auto 48px;
    max-width: 800px;
  }

  /* How It Works Section */
  .how-it-works-section {
    background: white;
    padding: 128px 0;
  }

  .how-it-works-layout {
    display: flex;
    gap: 48px;
    align-items: flex-start;
    max-width: 1040px;
    margin: 48px auto 0;
  }

  .how-it-works-steps {
    flex: 1 1 0;
  }

  .steps-list {
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  .step-card {
    display: flex;
    gap: 24px;
    align-items: flex-start;
    background: white;
    border: 1px solid rgba(2, 38, 105, 0.15);
    border-radius: 12px;
    padding: 24px;
    box-shadow: 0 12px 24px rgba(2, 38, 105, 0.05);
    position: relative;
    transition: all 0.3s ease;
  }

  .step-card:hover {
    border: 1px solid rgb(2 38 105 / 30%);
  }

  .step-icon {
    flex-shrink: 0;
  }

  .icon-background {
    width: 64px;
    height: 64px;
    background: #f9f9fb;
    border-radius: 16px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .icon-background svg {
    width: 32px;
    height: 32px;
    object-fit: contain;
  }

  .step-content {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .step-number {
    position: absolute;
    top: 12px;
    right: 12px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(2, 38, 105, 0.1), rgba(131, 32, 131, 0.18));
    font-family: 'Inter', sans-serif;
    font-weight: 600;
    font-size: 12px;
    line-height: 1;
    color: #022669;
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  .step-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 500;
    font-size: 20px;
    line-height: 28px;
    color: #022669;
    margin: 0;
    letter-spacing: -0.5px;
  }

  .step-description {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 14px;
    line-height: 22px;
    color: #6a7795;
    margin: 0;
    max-width: 480px;
  }

  .how-it-works-media {
    flex: 1 1 0;
    display: flex;
    align-items: stretch;
  }

  .how-it-works-video-wrapper {
    position: relative;
    width: 100%;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid rgba(2, 38, 105, 0.1);
    background: linear-gradient(135deg, rgba(2, 38, 105, 0.08), rgba(131, 32, 131, 0.08));
    display: flex;
    align-items: center;
    justify-content: center;
    height: 656px;
    transition: transform 0.4s ease, box-shadow 0.4s ease;
  }

  .how-it-works-video-wrapper.is-visible {
    transform: translateY(0);
    box-shadow: 0 24px 48px rgba(2, 38, 105, 0.12);
  }

  .how-it-works-video {
    width: 100%;
    height: 100%;
    display: block;
    transition: opacity 0.3s ease;
  }

  .how-it-works-video-wrapper.is-visible .how-it-works-video {
    opacity: 1;
  }

  .how-it-works-video-placeholder {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
    text-align: center;
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 16px;
    line-height: 24px;
    color: rgba(2, 38, 105, 0.7);
    backdrop-filter: blur(4px);
    background: rgba(255, 255, 255, 0.7);
    transition: opacity 0.3s ease;
  }

  .how-it-works-video-wrapper.has-video.is-visible .how-it-works-video-placeholder {
    opacity: 0;
    pointer-events: none;
  }

  /* Bundles Section */
  .bundles-section {
    background: #f9f9fb;
    padding: 128px 0;
  }

  .bundles-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
    margin-bottom: 32px;
    align-items: stretch;
  }

  .bundle-card {
    background: white;
    border: 1px solid rgba(2, 38, 105, 0.15);
    border-radius: 4px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    height: 100%;
    transition: all 0.3s ease;
  }

  .bundle-card:hover {
    border: 1px solid rgb(2 38 105 / 30%);
  }
  .bundle-image {
    height: auto;
    overflow: hidden;
    flex-shrink: 0;
  }

  .bundle-image img {
    width: 100%;
    height: 280px;
    display: block;
    object-fit: cover;
  }

  .bundle-content {
    padding: 24px;
    display: flex;
    flex-direction: column;
    flex: 1;
  }

  .bundle-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 8px;
  }

  .bundle-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 600;
    font-size: 20px;
    line-height: 28px;
    color: #022669;
    margin: 0;
    letter-spacing: -0.5px;
  }

  .gift-badge {
    background: rgba(2, 38, 105, 0.1);
    border: 1px solid rgba(2, 38, 105, 0.2);
    border-radius: 9999px;
    padding: 3px 11px;
    font-family: 'Inter', sans-serif;
    font-weight: 600;
    font-size: 12px;
    line-height: 16px;
    color: #022669;
    white-space: nowrap;
  }

  .bundle-description {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 16px;
    line-height: 22.75px;
    color: #6a7795;
    margin: 0 0 16px;
  }

  .products-list {
    margin-bottom: 17px;
  }

  .products-label {
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 12px;
    line-height: 16px;
    color: #6a7795;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    margin: 0 0 8px;
  }

  .products-items {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .products-items li {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 4px;
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 14px;
    line-height: 20px;
    color: #022669;
  }

  .bundle-footer {
    border-top: 1px solid rgba(2, 38, 105, 0.15);
    padding-top: 17px;
    margin-top: auto;
  }

  .pricing {
    display: flex;
    justify-content: space-between;
    margin-bottom: 16px;
  }

  .total-price,
  .gift-value {
    display: flex;
    flex-direction: column;
  }

  .price-label,
  .gift-label {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 12px;
    line-height: 16px;
    color: #6a7795;
  }

  .price-value {
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 24px;
    line-height: 32px;
    color: #022669;
  }

  .gift-value-text {
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 18px;
    line-height: 28px;
    color: #16910b;
    text-align: right;
  }

  .bundle-cta-btn {
    display: block;
    width: 100%;
    background: linear-gradient(to right, #022669, #832083);
    color: white;
    padding: 13px 46px;
    border-radius: 4px;
    border: none;
    cursor: pointer;
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 16px;
    line-height: 24px;
    text-transform: uppercase;
    letter-spacing: -0.4px;
    text-align: center;
    transition: all 0.3s ease;
  }

  .bundle-cta-btn:hover {
    color: white !important;
    box-shadow: 0 4px 6px #01216940;
  }

  .bundle-cta-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .bundles-note-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 32px;
    max-width: 672px;
    margin: 0 auto;
  }

  .bundles-note {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 16px;
    line-height: 24px;
    color: #6a7795;
    text-align: center;
    margin: 0;
  }

  /* Benefits Section */
  .benefits-section {
    background: #ffffff;
    padding: 128px 0;
  }

  .benefits-grid {
    display: flex;
    gap: 32px;
    justify-content: center;
    margin: 5rem 0;
  }

  .benefit-card {
    flex: 1;
    max-width: 362.66px;
    text-align: center;
  }

  .benefit-icon {
    margin-bottom: 24px;
  }

  .benefit-icon .icon-background {
    width: 56px;
    height: 56px;
    background: #f9f9fb;
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .benefit-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 500;
    font-size: 18px;
    line-height: 28px;
    color: #022669;
    margin: 0 0 16px;
  }

  .benefit-description {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 16px;
    line-height: 22.75px;
    color: #6a7795;
    margin: 0;
  }

  .benefits-note {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 16px;
    line-height: 24px;
    color: #6a7795;
    text-align: center;
    margin: 0 auto;
    max-width: 672px;
  }

  /* FAQ Section */
  .faq-section {
    background: #f9f9fb;
    padding: 128px 0;
  }

  .faq-list {
    max-width: 768px;
    margin: 48px auto 0;
  }

  .faq-item {
    border-bottom: 1px solid rgba(2, 38, 105, 0.15);
  }

  .faq-question {
    width: 100%;
    background: none;
    border: none;
    padding: 16px 16px 16px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    text-align: left;
    cursor: pointer;
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 18px;
    line-height: 28px;
    color: #022669;
  }

  .faq-icon {
    transition: transform 0.3s ease;
  }

  .faq-item.active .faq-icon {
    transform: rotate(180deg);
  }

  .faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
  }

  .faq-item.active .faq-answer {
    max-height: 400px;
  }

  .faq-answer p {
    padding: 0 0 16px;
    margin: 0;
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 16px;
    line-height: 24px;
    color: #6a7795;
  }

  /* Final CTA Section */
  .final-cta-section {
    position: relative;
    background: white;
    padding: 128px 0;
    overflow: hidden;
  }

  .cta-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-size: cover;
    background-position: top left;
    background-repeat: no-repeat;
  }

  .cta-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      to bottom,
      rgba(255, 255, 255, 0.5),
      rgba(255, 255, 255, 0.85) 50%,
      rgba(255, 255, 255, 0.5)
    );
  }

  .final-cta-section .container {
    position: relative;
    z-index: 2;
    text-align: center;
  }

  .cta-content {
    max-width: 672px;
    margin: 0 auto 32px;
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    font-size: 20px;
    line-height: 32px;
    color: #022669;
  }

  .cta-content p {
    color: #022669;
  }

  .final-cta-btn {
    display: inline-block;
    background: linear-gradient(to right, #022669, #832083);
    color: white;
    padding: 13px 46px;
    border-radius: 4px;
    text-decoration: none;
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 16px;
    line-height: 24px;
    text-transform: uppercase;
    letter-spacing: -0.4px;
    transition: all 0.3s ease;
  }

  .final-cta-btn:hover {
    color: white !important;
    box-shadow: 0 4px 6px #01216940;
  }

  /* Responsive Design */
  @media (max-width: 1024px) {
    .hero-content {
      flex-direction: column;
      gap: 32px;
      text-align: center;
    }

    .how-it-works-layout {
      flex-direction: column;
      gap: 32px;
    }

    .how-it-works-media {
      width: 100%;
    }

    .how-it-works-video-wrapper {
      min-height: 280px;
    }

    .bundles-grid {
      grid-template-columns: 1fr;
    }

    .benefits-grid {
      flex-direction: column;
      align-items: center;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      margin-top: -35px;
    }
    .hero-subtitle {
      font-size: 18px;
      line-height: 24px;
    }
    .hero-title {
      font-size: 32px;
      line-height: 40px;
    }

    .hero-description {
      font-size: 18px;
      line-height: 28px;
    }

    .section-title {
      font-size: 28px;
      line-height: 32px;
    }

    .section-subtitle {
      font-size: 18px;
      line-height: 26px;
    }
    .hero-container,
    .container {
      padding: 32px 16px;
    }

    .how-it-works-section,
    .bundles-section,
    .benefits-section,
    .faq-section,
    .final-cta-section {
      padding: 64px 0;
    }

    .steps-list {
      gap: 16px;
    }

    .step-card {
      padding: 20px;
      gap: 16px;
    }

    .step-number {
      width: 24px;
      height: 24px;
      top: 12px;
      right: 12px;
      font-size: 10px;
    }

    .icon-background {
      width: 56px;
      height: 56px;
      border-radius: 8px;
    }

    .step-title {
      font-size: 18px;
      line-height: 26px;
    }

    .step-description {
      font-size: 13px;
      line-height: 20px;
    }

    .how-it-works-video-placeholder {
      font-size: 14px;
      line-height: 22px;
      padding: 16px;
    }

    .bundle-image img {
      width: 100%;
      height: 161px;
      display: block;
      object-fit: contain;
    }
    .bundle-cta-btn {
      padding: 13px 24px;
    }

    .gift-badge {
      border-radius: 16px;
      padding: 3px 8px;
      white-space: nowrap;
    }
  }
</style>

<script>
  (function () {
    if (typeof document === 'undefined') {
      return;
    }

    document.addEventListener('DOMContentLoaded', function () {
      const faqItems = document.querySelectorAll('.faq-item');
      if (!faqItems.length) {
        return;
      }

      faqItems.forEach((item) => {
        const question = item.querySelector('.faq-question');
        if (!question) {
          return;
        }

        question.addEventListener('click', function () {
          const isActive = item.classList.contains('active');

          faqItems.forEach((otherItem) => {
            if (otherItem !== item) {
              otherItem.classList.remove('active');
            }
          });

          if (isActive) {
            item.classList.remove('active');
          } else {
            item.classList.add('active');
          }
        });
      });

      const bundleButtons = document.querySelectorAll('.bundle-cta-btn');
      bundleButtons.forEach((button) => {
        button.classList.add('bundle-cta-btn--ajax');
        button.addEventListener('click', (event) => {
          event.preventDefault();
          event.stopPropagation();
        });
      });
    });
  })();

  // Bundle Cart Functionality
  function addBundleToCart(bundleId) {
    const bundleCard = document.querySelector(`[data-bundle-id="${bundleId}"]`);
    if (!bundleCard) {
      console.error('Bundle-Karte wurde fuer die ID nicht gefunden:', bundleId);
      return;
    }

    const button = bundleCard.querySelector('.bundle-cta-btn');
    const productVariants = bundleCard.querySelectorAll('.product-variant-id');

    console.log('Bundle-ID:', bundleId);
    console.log('Bundle-Karte gefunden:', bundleCard);
    console.log('Gefundene Produktvarianten:', productVariants.length);
    console.log('Produktvarianten:', productVariants);

    if (productVariants.length === 0) {
      console.error('Es wurden keine Produkte fuer dieses Bundle konfiguriert. Bitte wenden Sie sich an den Support.');
      console.log('Verfuegbare Elemente in der Bundle-Karte:', bundleCard.innerHTML);
      showMessage('Bundle-Produkte muessen konfiguriert werden. Weiterleitung zum Shop...', 'info');
      // Show instructions for configuring products
      const bundleTitle = bundleCard.querySelector('.bundle-title')?.textContent || 'dieses Bundle';
      showMessage(`Bitte konfigurieren Sie zunaechst die Produkte fuer ${bundleTitle} im Shopify-Admin.`, 'info');
      setTimeout(() => {
        window.location.href = '/collections/all?note=Bundle+Konfiguration+erforderlich';
      }, 3000);
      return;
    }

    // Disable button and show loading state
    button.disabled = true;
    button.textContent = 'Wird dem Warenkorb hinzugefuegt...';

    // Collect all variant IDs and quantities
    const items = [];
    productVariants.forEach((variantInput) => {
      const quantityInput = variantInput.parentElement.querySelector('.product-quantity');
      const quantity = quantityInput ? parseInt(quantityInput.value) || 1 : 1;

      if (variantInput.value) {
        items.push({
          id: variantInput.value,
          quantity: quantity,
        });
      }
    });

    if (items.length === 0) {
      console.error('Keine gueltigen Produkte in diesem Bundle gefunden. Bitte wenden Sie sich an den Support.');
      showMessage('Keine gueltigen Produkte in diesem Bundle gefunden. Bitte wenden Sie sich an den Support.', 'error');
      button.disabled = false;
      button.textContent = 'Bundle hinzufuegen & Geschenk waehlen';
      return;
    }

    console.log('Artikel werden dem Warenkorb hinzugefuegt:', items);

    // Add items to cart using Shopify AJAX API
    fetch('/cart/add.js', {
      method: 'POST',
      credentials: 'same-origin',
      headers: {
        'Content-Type': 'application/json',
        Accept: 'application/json',
        'X-Requested-With': 'XMLHttpRequest',
      },
      body: JSON.stringify({ items: items }),
    })
      .then((response) => {
        console.log('Antwortstatus:', response.status);
        if (!response.ok) {
          throw new Error(`HTTP-Fehler! Status: ${response.status}`);
        }
        return response.json();
      })
      .then((data) => {
        console.log('Warenkorb-Antwort:', data);
        if (data.status === 422 || data.errors) {
          console.error('Einige Produkte in diesem Bundle sind derzeit nicht verfuegbar.', data.errors);
          showMessage(
            'Einige Produkte in diesem Bundle sind derzeit nicht verfuegbar. Bitte versuchen Sie es spaeter erneut.',
            'error'
          );
          return;
        }

        showMessage('Bundle wurde erfolgreich zum Warenkorb hinzugefuegt!', 'success');
        openAssortionSideCart();
      })
      .catch((error) => {
        console.error('Fehler beim Hinzufuegen des Bundles zum Warenkorb:', error);
        showMessage(
          'Beim Hinzufuegen des Bundles zu Ihrem Warenkorb ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut.',
          'error'
        );
      })
      .finally(() => {
        // Re-enable button
        button.disabled = false;
        button.textContent = 'Bundle hinzufuegen & Geschenk waehlen';
      });
  }

  // Helper function to show messages instead of alert
  function showMessage(message, type = 'info') {
    // Try to use Shopify's notification system if available
    if (window.Shopify && window.Shopify.theme && window.Shopify.theme.notification) {
      window.Shopify.theme.notification.show(message, type);
    } else {
      // Fallback: create a simple notification
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 20px;
        background: ${type === 'error' ? '#ff4444' : '#44ff44'};
        color: white;
        border-radius: 4px;
        z-index: 10000;
        font-family: Inter, sans-serif;
        font-size: 14px;
        max-width: 300px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      `;
      notification.textContent = message;
      document.body.appendChild(notification);

      setTimeout(() => {
        notification.remove();
      }, 5000);
    }
  }

  function openAssortionSideCart() {
    if (window.Assortion && window.Assortion.cart && typeof window.Assortion.cart.open === 'function') {
      window.Assortion.cart.open();
      return;
    }

    if (window.Assortion && typeof window.Assortion.open === 'function') {
      window.Assortion.open();
      return;
    }

    const cartTrigger = document.querySelector('.site-header__icon.site-header__cart');
    if (cartTrigger) {
      cartTrigger.click();
      return;
    }

    const cartButton = document.querySelector('[data-cart-toggle], [data-action="toggle-cart"], .header__icon--cart');
    if (cartButton) {
      cartButton.dispatchEvent(new Event('click', { bubbles: true }));
      return;
    }

    console.warn('Assortion-Seitenkorb konnte nicht automatisch geoefnet werden.');
  }
</script>

{% schema %}
{
  "name": "Somavedic Gift LP",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Hero-Bereich"
    },
    {
      "type": "image_picker",
      "id": "hero_background_image",
      "label": "Hero-Hintergrundbild"
    },
    {
      "type": "text",
      "id": "hero_subtitle",
      "label": "Hero-Untertitel",
      "default": "Gestalten Sie Ihr Refugium"
    },
    {
      "type": "text",
      "id": "hero_title",
      "label": "Hero-Titel",
      "default": "Somavedic als Geschenk"
    },
    {
      "type": "textarea",
      "id": "hero_description",
      "label": "Hero-Beschreibung"
    },
    {
      "type": "number",
      "id": "gift_threshold_cents",
      "label": "Geschenk-Schwelle (Cent)",
      "default": 460000,
      "info": "Geben Sie die Mindestschwelle fuer den Einkaufswert in Cent ein (z. B. 460000 = 4.600 $)."
    },
    {
      "type": "number",
      "id": "gift_value_cents",
      "label": "Geschenkwert (Cent)",
      "default": 265000,
      "info": "Geben Sie den maximalen Geschenkwert in Cent ein (z. B. 265000 = 2.650 $)."
    },
    {
      "type": "text",
      "id": "gift_value_label",
      "label": "Geschenkwert-Label",
      "default": "Bis zu",
      "info": "Optionaler Text, der dem Geschenkwert vorangestellt wird (z. B. Bis zu)."
    },
    {
      "type": "text",
      "id": "hero_cta_text",
      "label": "Hero-CTA-Schaltflaechen-Text",
      "default": "Jetzt kaufen"
    },
    {
      "type": "url",
      "id": "hero_cta_link",
      "label": "Hero-CTA-Link"
    },
    {
      "type": "image_picker",
      "id": "hero_product_image",
      "label": "Hero-Produktbild"
    },
    {
      "type": "header",
      "content": "Bereich So funktioniert es"
    },
    {
      "type": "text",
      "id": "how_it_works_title",
      "label": "Titel So funktioniert es",
      "default": "So funktioniert es"
    },
    {
      "type": "url",
      "id": "how_it_works_video_url",
      "label": "Video-URL So funktioniert es",
      "info": "Fuegen Sie eine direkte MP4-/WebM-URL ein, die in Shopify-Dateien oder einem CDN gehostet wird."
    },
    {
      "type": "image_picker",
      "id": "how_it_works_video_poster",
      "label": "Videoposter So funktioniert es"
    },
    {
      "type": "text",
      "id": "how_it_works_video_placeholder",
      "label": "Video-Platzhaltertext",
      "default": "Video-Vorschau folgt in Kuerze"
    },
    {
      "type": "header",
      "content": "Bundles-Bereich"
    },
    {
      "type": "text",
      "id": "bundles_title",
      "label": "Titel Bundles",
      "default": "Ihr Weg zur Harmonie"
    },
    {
      "type": "textarea",
      "id": "bundles_subtitle",
      "label": "Untertitel Bundles",
      "default": "Perfekt aufeinander abgestimmte Kombinationen, die darauf ausgelegt sind, die Ausgabenschwelle zu erreichen und dabei eine ganzheitliche Loesung fuer Ihr Zuhause zu schaffen."
    },
    {
      "type": "header",
      "content": "Vorteils-Bereich"
    },
    {
      "type": "text",
      "id": "benefits_title",
      "label": "Titel Vorteile",
      "default": "Was koennen Sie erwarten"
    },
    {
      "type": "text",
      "id": "benefits_subtitle",
      "label": "Untertitel Vorteile",
      "default": "Waehlen Sie das Modell, das am besten zu Ihrem Raum und Ihrer Seele passt"
    },
    {
      "type": "header",
      "content": "FAQ-Bereich"
    },
    {
      "type": "text",
      "id": "faq_title",
      "label": "FAQ-Titel",
      "default": "Haeufig gestellte Fragen"
    },
    {
      "type": "header",
      "content": "Finaler CTA-Bereich"
    },
    {
      "type": "text",
      "id": "final_cta_title",
      "label": "Finaler CTA-Titel",
      "default": "Warum jetzt"
    },
    {
      "type": "richtext",
      "id": "final_cta_content",
      "label": "Finaler CTA-Inhalt",
      "default": "<p>Jeder Tag in einer harmonischen Umgebung bedeutet <strong>staerkere Immunitaet</strong>, <strong>tiefere Regeneration</strong> und gluecklichere Tage. Beginnen Sie noch heute damit, Ihr ideales Zuhause zu gestalten – ein Ort, an dem sich Ihr <strong>Koerper entspannen</strong> und Ihr <strong>Geist entschleunigen</strong> kann. Schenken Sie sich dauerhafte Harmonie.</p>"
    },
    {
      "type": "text",
      "id": "final_cta_text",
      "label": "Finaler CTA-Schaltflaechen-Text",
      "default": "Jetzt kaufen"
    },
    {
      "type": "url",
      "id": "final_cta_link",
      "label": "Finaler CTA-Link"
    },
    {
      "type": "image_picker",
      "id": "final_cta_background",
      "label": "Hintergrundbild finaler CTA"
    }
  ],
  "blocks": [
    {
      "type": "step",
      "name": "Schritt",
      "limit": 3,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Schritt-Titel"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Schritt-Beschreibung"
        },
        {
          "type": "liquid",
          "id": "icon_svg",
          "label": "Schritt-Symbol (SVG)",
          "info": "Fuegen Sie Inline-SVG-Markup oder Liquid ein. Lassen Sie das Feld leer, um das Standardsymbol zu verwenden."
        }
      ]
    },
    {
      "type": "bundle",
      "name": "Bundle",
      "limit": 4,
      "settings": [
        {
          "type": "image_picker",
          "id": "bundle_image",
          "label": "Bundle-Bild"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Bundle-Titel"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Bundle-Beschreibung"
        },
        {
          "type": "product",
          "id": "product_obj_1",
          "label": "Produkt 1"
        },
        {
          "type": "text",
          "id": "product_1",
          "label": "Produkt 1 Anzeigename"
        },
        {
          "type": "number",
          "id": "product_qty_1",
          "label": "Produkt 1 Menge",
          "default": 1,
          "info": "Wie oft dieses Produkt dem Warenkorb hinzugefuegt wird"
        },
        {
          "type": "product",
          "id": "product_obj_2",
          "label": "Produkt 2"
        },
        {
          "type": "text",
          "id": "product_2",
          "label": "Produkt 2 Anzeigename"
        },
        {
          "type": "number",
          "id": "product_qty_2",
          "label": "Produkt 2 Menge",
          "default": 1,
          "info": "Wie oft dieses Produkt dem Warenkorb hinzugefuegt wird"
        },
        {
          "type": "product",
          "id": "product_obj_3",
          "label": "Produkt 3"
        },
        {
          "type": "text",
          "id": "product_3",
          "label": "Produkt 3 Anzeigename"
        },
        {
          "type": "number",
          "id": "product_qty_3",
          "label": "Produkt 3 Menge",
          "default": 1,
          "info": "Wie oft dieses Produkt dem Warenkorb hinzugefuegt wird"
        },
        {
          "type": "product",
          "id": "product_obj_4",
          "label": "Produkt 4"
        },
        {
          "type": "text",
          "id": "product_4",
          "label": "Produkt 4 Anzeigename"
        },
        {
          "type": "number",
          "id": "product_qty_4",
          "label": "Produkt 4 Menge",
          "default": 1,
          "info": "Wie oft dieses Produkt dem Warenkorb hinzugefuegt wird"
        },
        {
          "type": "product",
          "id": "product_obj_5",
          "label": "Produkt 5"
        },
        {
          "type": "text",
          "id": "product_5",
          "label": "Produkt 5 Anzeigename"
        },
        {
          "type": "number",
          "id": "product_qty_5",
          "label": "Produkt 5 Menge",
          "default": 1,
          "info": "Wie oft dieses Produkt dem Warenkorb hinzugefuegt wird"
        },
        {
          "type": "text",
          "id": "total_price",
          "label": "Gesamtpreis (optionale Ueberschreibung)",
          "info": "Wenn leer, wird der Preis aus den konfigurierten Produkten berechnet."
        },
        {
          "type": "text",
          "id": "gift_value",
          "label": "Geschenkwert-Label",
          "default": "Bis zu"
        },
        {
          "type": "url",
          "id": "cta_link",
          "label": "CTA-Link"
        }
      ]
    },
    {
      "type": "benefit",
      "name": "Vorteil",
      "limit": 3,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Vorteil-Titel"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Vorteil-Beschreibung"
        },
        {
          "type": "liquid",
          "id": "icon_svg",
          "label": "Vorteils-Symbol (SVG)",
          "info": "Fuegen Sie Inline-SVG-Markup ein. Lassen Sie das Feld leer, um das voreingestellte Symbol zu verwenden."
        },
        {
          "type": "select",
          "id": "icon_type",
          "label": "Voreingestelltes Symbol",
          "default": "harmony",
          "options": [
            {
              "value": "harmony",
              "label": "Harmonie"
            },
            {
              "value": "regeneration",
              "label": "Regeneration"
            },
            {
              "value": "wellbeing",
              "label": "Wohlbefinden"
            }
          ]
        }
      ]
    },
    {
      "type": "faq",
      "name": "FAQ-Element",
      "limit": 10,
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Frage"
        },
        {
          "type": "textarea",
          "id": "answer",
          "label": "Antwort"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Somavedic Geschenk-Landing",
      "blocks": [
        {
          "type": "step",
          "settings": {
            "title": "Stellen Sie Ihren Warenkorb zusammen",
            "description": "Fuegen Sie Somavedic-Geraete zu Ihrem Warenkorb hinzu, bis Sie den erforderlichen Betrag erreichen."
          }
        },
        {
          "type": "step",
          "settings": {
            "title": "Waehlen Sie Ihr Geschenk",
            "description": "Waehlen Sie vor Abschluss Ihrer Bestellung das Somavedic-Geraet aus, das Sie als Geschenk erhalten."
          }
        },
        {
          "type": "step",
          "settings": {
            "title": "Geniessen Sie Harmonie",
            "description": "Freuen Sie sich auf eine volle Portion harmonisierender Schaetze."
          }
        },
        {
          "type": "benefit",
          "settings": {
            "icon_type": "harmony",
            "title": "Harmonisiert Ihre Umgebung",
            "description": "Reduziert die Auswirkungen elektromagnetischer Strahlung (EMF) fuer einen saubereren Lebensraum."
          }
        },
        {
          "type": "benefit",
          "settings": {
            "icon_type": "regeneration",
            "title": "Unterstuetzt Regeneration",
            "description": "Foerdert Ruhe und hochwertigen Schlaf fuer eine bessere Erholung."
          }
        },
        {
          "type": "benefit",
          "settings": {
            "icon_type": "wellbeing",
            "title": "Bringt Wohlbefinden",
            "description": "Schafft ein Gefuehl des Wohlbefindens, das sich nicht einfach per Knopfdruck einschalten laesst."
          }
        },
        {
          "type": "faq",
          "settings": {
            "question": "Wie hoch ist der Mindestbestellwert, um sich fuer das Geschenk zu qualifizieren?",
            "answer": "Sie muessen die aktuelle Ausgabengrenze fuer Somavedic-Geraete erreichen, um das Gratisgeschenk zu erhalten."
          }
        },
        {
          "type": "faq",
          "settings": {
            "question": "Kann ich jedes Somavedic-Modell als Geschenk waehlen?",
            "answer": "Ja, Sie koennen jedes Somavedic-Geraet bis zum angegebenen Geschenkwert waehlen."
          }
        },
        {
          "type": "faq",
          "settings": {
            "question": "Wann waehle ich mein Geschenk aus?",
            "answer": "Sie waehlen Ihr Geschenk im Checkout-Prozess aus, bevor Sie Ihre Bestellung abschliessen."
          }
        },
        {
          "type": "faq",
          "settings": {
            "question": "Warum reicht ein Somavedic moeglicherweise nicht fuer den kompletten Schutz Ihres Zuhauses aus?",
            "answer": "Ob ein einzelnes Somavedic fuer Ihr gesamtes Zuhause ausreicht, haengt von mehreren Faktoren ab, die ueber die blosse Quadratmeterzahl hinausgehen. Somavedic-Geraete erzeugen ein harmonisierendes 360-Grad-Feld mit einer Reichweite von bis zu 30 Metern in alle Richtungen. Die Effektivitaet dieses Feldes kann jedoch von Faktoren wie Elektrosmog (EMF), geopathischen Belastungszonen und sogar der emotionalen oder energetischen Atmosphaere Ihres Raumes beeinflusst werden. Diese feinen Variablen unterscheiden sich von Zuhause zu Zuhause deutlich. Daher koennen wir nicht garantieren, dass ein einziges Geraet fuer jedes Zuhause ausreicht. In vielen Faellen ist ein Modell wie Vedic oder Amber ein kraftvoller Ausgangspunkt – besonders fuer kleinere Raeume. Wenn Ihr Zuhause jedoch groesser ist, mehrere Etagen hat, staerkerer EMF-Belastung ausgesetzt ist oder Sie besonders sensibel reagieren, profitieren Sie moeglicherweise davon, weitere Geraete in anderen Bereichen zu platzieren, um das harmonisierende Feld zu verstaerken und auszuweiten."
          }
        },
        {
          "type": "bundle",
          "settings": {
            "title": "Der ultimative Amber-Rueckzugsort",
            "description": "Erleben Sie unvergleichlichen Schutz und Unterstuetzung – perfekt fuer alle, die den Komfort von Smart Homes und die Innovation von Elektro- oder Hybridfahrzeugen schaetzen.",
            "product_1": "2 × Amber",
            "product_qty_1": 2,
            "gift_value": "Bis zu"
          }
        },
        {
          "type": "bundle",
          "settings": {
            "title": "Das Rundum-zu-Hause-und-unterwegs-System",
            "description": "Das perfekte Paket fuer umfassenden Schutz, egal ob Sie zu Hause oder unterwegs sind. Es kombiniert ein leistungsstarkes Hauptgeraet mit speziellen Reise- und Ergaenzungsgeraeten.",
            "product_1": "1 × Amber",
            "product_2": "1 × Rosalin",
            "product_3": "1 × Anthracite",
            "product_4": "1 × Traveller",
            "product_qty_1": 1,
            "product_qty_2": 1,
            "product_qty_3": 1,
            "product_qty_4": 1,
            "gift_value": "Bis zu"
          }
        },
        {
          "type": "bundle",
          "settings": {
            "title": "Die Vedic Home Harmony Kollektion",
            "description": "Speziell fuer Familien und Mehrgenerationenhaeuser entwickelt, umhuellt dieses Set Ihren Wohnraum mit einem einheitlichen Feld der Balance. Platzieren Sie ein Vedic im Zentrum des Zuhauses und die anderen in Schlaf- oder Arbeitszimmern, um Harmonie auf jedes Familienmitglied und Gaestinnen und Gaeste auszuweiten.",
            "product_1": "5 × Vedic",
            "product_qty_1": 5,
            "gift_value": "Bis zu"
          }
        },
        {
          "type": "bundle",
          "settings": {
            "title": "Die Multifloor-Kombinationsloesung",
            "description": "Die intelligente Loesung fuer nahtlose Abdeckung in mehrgeschossigen Haeusern, grosszuegigen Apartments oder Buero-Umgebungen. Dieses Bundle kombiniert drei Hauptgeraete mit einem ergaenzenden Geraet, um gezielte Leistung dort zu liefern, wo Sie sie am dringendsten benoetigen.",
            "product_1": "3 × Vedic",
            "product_qty_1": 3,
            "product_2": "1 × Rosalin oder Anthracite",
            "product_qty_2": 1,
            "gift_value": "Bis zu"
          }
        }
      ]
    }
  ]
}
{% endschema %}
